webpackJsonp([30],{BXnk:function(e,t,a){var n=a("wf59");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("25f66094",n,!0)},wf59:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.mixin-components-container[data-v-3f06f519] {\r\n  background-color: #f0f2f5;\r\n  padding: 30px;\r\n  min-height: calc(100vh - 84px);\n}\n.pay-tag[data-v-3f06f519] {\r\n  margin: 5px;\n}\n.component-item[data-v-3f06f519] {\r\n  min-height: 100px;\n}\n.material-input__component[data-v-3f06f519] {\r\n  margin-top: 0 !important;\n}\n.btn-export[data-v-3f06f519] {\r\n  text-align: right;\n}\n#form-search-data[data-v-3f06f519] {\r\n  width: 80%;\r\n  margin: 0 auto;\n}\n.backBtn[data-v-3f06f519] {\r\n  margin-top: 17px;\n}\r\n",""])},xubI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),l=a("NYxO"),o=a("rJKo"),i=a("E4LH"),s={components:{},data:function(){var e=this;return{rules:r()({},o.a,{password:[{required:!0,validator:function(t,a,n){switch(Object(i.d)(a)){case"isSpace":e.$t("login.spaceMsg"),n(new Error(e.$t("login.spaceMsg")));break;case!1:n(""===a?new Error(e.$t("valiMsg.mewPass")):new Error(e.$t("login.passWeak")));break;default:""!==e.form.checkPass&&void 0!==e.form.checkPass&&e.$refs.addForm.validateField("checkPass"),n()}},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,a,n){a?a===e.form.password?n():n(new Error(e.$t("login.notSame"))):n(new Error(e.$t("valiMsg.checkPass")))},trigger:"blur"}]}),form:{account:"",roleId:"",uName:"",state:1,password:"",checkPass:"",loginIp:"",agentId:"",clientId:""},Loading:!1,Disable:!1,clientTree:[],roleList:[]}},created:function(){this.getRoles(),this.getclientTree()},computed:r()({},Object(l.c)(["isView","client"]),{clientTreeShow:function(){var e=this;return this.roleList.some(function(t){return t.Id===e.form.roleId&&2===t.isClient&&e.isView.isAgent===e.isView.isClient})},agentIdShow:function(){var e=this;return this.roleList.some(function(t){return t.Id===e.form.roleId&&2===t.isAgent})}}),methods:r()({},Object(l.b)(["addAccountSet","getRoleName","searchOrderClientName"]),{getRoles:function(){var e=this;this.getRoleName().then(function(t){e.roleList=t.data})},getclientTree:function(){var e=this;1===this.isView.isClient&&this.searchOrderClientName().then(function(t){e.clientTree=t.data})},cleanForm:function(){this.$refs.addForm.resetFields()},onSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){e.Loading=!0,e.Disable=!0;var a=e.form,n=a.account,r=a.uName,l=a.state,o=a.roleId,i=a.password,s=a.loginIp,c=a.clientId,d=a.agentId;if(1===e.isView.isClient&&1===e.isView.isAgent)c=e.roleList.some(function(e){return e.Id===o&&1===e.isClient&&1===e.isAgent})?0:c;else 2===e.isView.isClient&&1===e.isView.isAgent&&(c=e.client);var m=e.roleList.some(function(e){return e.Id===o&&1===e.isAgent}),f={account:n,uName:r,state:l,roleId:o,password:i,loginIp:s,clientId:c,agentId:d=m?0:d};e.addAccountSet({name:"accountSet",type:"add",data:f}).then(function(t){e.alertMessage(t.msg),e.backBtn()}).catch(function(t){e.Disable=!1,e.Loading=!1})}})},backBtn:function(){this.$router.push({name:"accountSet"})}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container",attrs:{id:"memberlist"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("h2",[e._v(e._s(e.$t("table.add")))])]),e._v(" "),a("el-col",{attrs:{span:2,offset:17}},[a("el-button",{staticClass:"el-icon-back backBtn",attrs:{type:"info",size:"small"},on:{click:e.backBtn}},[e._v(e._s(e.$t("tagsView.back")))])],1)],1),e._v(" "),a("div",{attrs:{id:"form-search-data"}},[a("el-form",{ref:"addForm",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("table.account"),prop:"account"}},[a("el-input",{attrs:{placeholder:e.$t("table.input")+e.$t("table.account"),maxlength:12},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.nickname"),prop:"uName"}},[a("el-input",{attrs:{placeholder:e.$t("table.input")+e.$t("table.nickname"),maxlength:12},model:{value:e.form.uName,callback:function(t){e.$set(e.form,"uName",t)},expression:"form.uName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.roles"),prop:"roleId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("table.Pselect")+e.$t("table.roles")},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,function(e){return a("el-option",{key:e.Id,attrs:{label:e.label,value:e.Id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.password"),prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("table.input")+e.$t("table.password"),maxlength:12},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.repassword"),prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("table.input")+e.$t("table.repassword"),maxlength:12},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.loginIp"),prop:"loginIp"}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("table.loginIp")},model:{value:e.form.loginIp,callback:function(t){e.$set(e.form,"loginIp",t)},expression:"form.loginIp"}})],1),e._v(" "),e.clientTreeShow?a("el-form-item",{attrs:{label:e.$t("table.loginClient"),prop:"clientId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("table.Pselect")+e.$t("table.loginClient")},model:{value:e.form.clientId,callback:function(t){e.$set(e.form,"clientId",t)},expression:"form.clientId"}},e._l(e.clientTree,function(t){return 0!==t.value||1===e.form.roleId?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()}))],1):e._e(),e._v(" "),e.agentIdShow?a("el-form-item",{attrs:{label:e.$t("table.agent"),prop:"agentId"}},[a("el-input",{attrs:{placeholder:e.$t("table.input")+e.$t("table.agent"),maxlength:12},model:{value:e.form.agentId,callback:function(t){e.$set(e.form,"agentId",t)},expression:"form.agentId"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.status"),prop:"state"}},[a("el-switch",{attrs:{"active-color":"#ff4949","inactive-color":"#13ce66","active-text":e.$t("table.disable"),"inactive-text":e.$t("table.normal"),"active-value":2,"inactive-value":1},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),a("el-form-item",{attrs:{align:"center"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.cleanForm}},[e._v(e._s(e.$t("table.reset")))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.Disable,loading:e.Loading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("table.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(s,c,!1,function(e){a("BXnk")},"data-v-3f06f519",null);t.default=d.exports}});